{{ partial "header.html" . }}

{{ if eq .Section "post" }}
<main>
  {{ $paginator := .Paginate (where .Site.Pages "Type" "post") }}
  {{ range $paginator.Pages }}
    {{ partial "summary.html" . }}
  {{ end }}
  {{ partial "pagination.html" . }}
</main>
{{ else if eq .Section "food" }}
  <div class="{{ .Section }}">
    <h2>{{ .Section }}</h2>
    {{ range $taxonomyname, $taxonomy := .Site.Taxonomies }}
      <section>
        {{ if eq "categories" $taxonomyname }}
        {{ range $key, $value := $taxonomy }}
        {{ if ne $key "drinks" }}
          <h2><em>{{ $key }}</em></h2>
          <hr>
          {{ range $value.Pages.GroupByParam "type" }}
            <h3>{{ .Key }}</h3>
            <ul>
              {{ range .Pages }}
              <li>
                <p><strong>{{ .Title }}</strong> {{ .Params.description }}</p>
                <p>{{ .Params.price }}</p>
              </li>
              {{ end }}
            </ul>
          {{ end }}
        {{ end }}
        {{ end }}
        {{ end }}
      </section>
    {{ end }}
  </div>
{{ else if eq .Section "drinks" }}
  {{ range $taxonomyname, $taxonomy := .Site.Taxonomies }}
    <section>
      {{ if eq "categories" $taxonomyname }}
      {{ range $key, $value := $taxonomy }}
        {{ if eq $key "drinks" }}
          {{ range $value.Pages.GroupByParam "type" }}
            <h2><em>{{ .Key }}</em></h2>
            <hr>
            <ul>
              {{ range .Pages }}
              <li>
                <p><strong>{{ .Title }}: </strong>{{ .Params.description }}</p>
                <p>{{ .Params.price }}</p>
              </li>
              {{ end }}
            </ul>
          {{ end }}
        {{ end }}
      {{ end }}
      {{ end }}
    </section>
  {{ end }}
{{ end }}

{{ partial "sidebar.html" . }}
{{ partial "footer.html" . }}
